[["index.html", "GMUG National Forests Group Selection Study Chapter 1 Objective", " GMUG National Forests Group Selection Study George Woolsey 2022-10-07 Chapter 1 Objective The objective of this analysis is to describe the site conditions for a group selection treatment on the Grand Mesa Uncompahgre and Gunnison National Forests (GMUG). The study being installed includes different sized group selection openings or reserve groups. This analysis seeks to quantify: the frequency of group opening or reserve group sizes for each of the harvest units. The frequency in each of the opening sizes or reserves within each harvest unit by aspect (the compass direction or azimuth that a terrain surface faces). The shape of the openings sizes in terms of the compass direction that the terrain surface faces with respect to the long axis and short axis This experiment aims to represent group openings with different sizes and the aspects in order to measure differences in light, snow accumulation, and seedling growth. Ideally, sample stratification will be determined by group size and aspect. According to the FACTS Activity Code Description, a Group Selection Cut (code 4152) is: An uneven-aged regeneration method in which trees are cut in small groups and new age classes are established. The width of groups is commonly less than approximately twice the height of the mature trees. Individual trees in the matrix may or may not be harvested to provide improved growing conditions for remaining trees. Multiple entries of this activity ultimately results in an uneven-aged stand of 3 or more age classes. "],["vector_data.html", "Chapter 2 Import Vector Data 2.1 National Forest Management data download 2.2 Load Treatment data 2.3 Load Elevation Data", " Chapter 2 Import Vector Data # turn off the s2 processing ## https://stackoverflow.com/questions/68478179/how-to-resolve-spherical-geometry-failures-when-joining-spatial-data sf::sf_use_s2(FALSE) # set crs my_crs &lt;- 5070 # EPSG:5070 = NAD83/Conus Albers (units = meters); EPSG:4326 = WGS 84 (units = dd); EPSG:4269 = NAD83 (units = dd) 2.1 National Forest Management data download The Forest Activity Tracking System (FACTS) database maintained by the U.S. Department of Agriculture, Forest Service (USFS) includes georeferenced boundaries of national forests. # load boundary shapefile forests &lt;- sf::st_read(&quot;../data/forests.gpkg&quot;) %&gt;% rename_with(~ tolower( gsub(&quot; &quot;, &quot;_&quot;, str_trim(gsub(&quot;\\\\s+&quot;, &quot; &quot;, .x)) ) )) %&gt;% sf::st_transform(my_crs) # EPSG:4326 = WGS 84 # keep GMUG gmug &lt;- forests %&gt;% dplyr::filter( forest_commonname %in% c( &quot;Grand Mesa National Forest&quot; , &quot;Uncompahgre National Forest&quot; , &quot;Gunnison National Forest&quot; ) ) %&gt;% sf::st_union() 2.1.1 GMUG Map mapview::mapviewOptions(homebutton = FALSE, basemaps = c(&quot;Esri.WorldTopoMap&quot;)) # &quot;Esri.WorldImagery&quot; mapview::mapview( x = gmug , color = &quot;black&quot; , lwd = 4 , alpha.regions = 0 , label = FALSE , legend = FALSE , popup = FALSE , map.types = &quot;Esri.WorldTopoMap&quot; # &quot;Esri.WorldImagery&quot; ) 2.2 Load Treatment data ############################ # load shapefiles ############################ shp_import_fn &lt;- function(pth){ # import dta &lt;- sf::st_read(pth) %&gt;% dplyr::filter(sf::st_is_valid(.)) %&gt;% rename_with(~ tolower( gsub(&quot; &quot;, &quot;_&quot;, str_trim(gsub(&quot;\\\\s+&quot;, &quot; &quot;, .x)) ) )) %&gt;% sf::st_transform(crs = sf::st_crs(forests)) %&gt;% dplyr::mutate(area = sf::st_area(.)) #rename sf geom column names(dta)[names(dta)==tolower(attr(dta, &quot;sf_column&quot;))] = &quot;geometry&quot; sf::st_geometry(dta) = &quot;geometry&quot; # return return(dta) } # group selection openings openings &lt;- shp_import_fn(&quot;../data/Bald_all_groups.shp&quot;) # group selection reserve groups reserves &lt;- shp_import_fn(&quot;../data/Bald_all_Reserve_grps.shp&quot;) # harvest units units &lt;- shp_import_fn(&quot;../data/UnitEstimate.shp&quot;) 2.2.1 Units and treatment map ggplot() + geom_sf( data = units , mapping = aes(fill = unit_numbe) , lwd = 0.8, color = &quot;black&quot; ) + geom_sf(data = openings, fill = &quot;white&quot;, color = &quot;firebrick&quot;, lwd = 1) + geom_sf(data = reserves, fill = &quot;black&quot;, color = &quot;black&quot;) + scale_fill_viridis_d(option = &quot;turbo&quot;, alpha = 0.4) + theme_bw() + theme( legend.position = &quot;none&quot; ) 2.3 Load Elevation Data The function elevatr::get_elev_raster was used to obtain a digital elevation model (DEM) raster (~6.8m resolution). ####################################################### ####################################################### # read elevation data ####################################################### ####################################################### if(file.exists(&quot;../data/gmug_elev.tif&quot;) == FALSE){ # z =14 is highest resolution (~6.8m) elev &lt;- elevatr::get_elev_raster( locations = units %&gt;% sf::st_union() %&gt;% sf::st_buffer(dist = 100) , z = 14 ) %&gt;% stars::st_as_stars() # save stars::write_stars(elev, &quot;../data/elev.tif&quot;, append = FALSE) }else{ elev &lt;- stars::read_stars(&quot;../data/elev.tif&quot;) } 2.3.1 Elevation plot # plot ggplot() + stars::geom_stars(data = elev) + scale_fill_viridis_c(option = &quot;viridis&quot;, alpha = 0.9, na.value = &quot;transparent&quot;) + geom_sf(data = units, alpha = 0, lwd = 1, color = &quot;black&quot;) + labs( title = &quot;GMUG Treatment Units Elevation Map&quot; , subtitle = sf::st_crs(elev)$input ) + xlab(&quot;&quot;) + ylab(&quot;&quot;) + scale_x_continuous(expand = c(0, 0)) + scale_y_continuous(expand = c(0, 0)) + theme_bw() + theme( axis.text = element_text(size = 8) # , panel.grid = element_blank() , panel.border = element_blank() ) + guides( fill = guide_legend(title=&quot;Elev. (m)&quot;) ) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
